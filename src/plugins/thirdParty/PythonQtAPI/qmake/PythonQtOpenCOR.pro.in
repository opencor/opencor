# --------- PythonQt profile -------------------
# Last changed by $Author: florian $
# $Id: PythonQt.pro 35381 2006-03-16 13:05:52Z florian $
# $Source$
# --------------------------------------------------

TARGET   = PythonQt
TEMPLATE = lib
VERSION = 3.1

DESTDIR = @PYTHONQT_INSTALL_DIR@/lib

CONFIG += qt
CONFIG -= flat


# allow to choose static linking through the environment variable PYTHONQT_STATIC
PYTHONQT_STATIC = $$(PYTHONQT_STATIC)
isEmpty(PYTHONQT_STATIC) {
  CONFIG += dll
} else {
  CONFIG += static
}

contains(QT_MAJOR_VERSION, 5) {
  QT += widgets core-private
}

# Qt 5.4 adds this option, but this is not compatible with the Python API
QMAKE_CXXFLAGS_RELEASE -= -Zc:strictStrings

include ( build/common.prf )
include ( build/python.prf )

include ( @PYTHONQT_SOURCE_DIR@/src/src.pri )

# Header files we want installed
INCLUDES += $$HEADERS
INCLUDES += @PYTHONQT_SOURCE_DIR@/src/PythonQtPythonInclude.h

include($${PYTHONQT_GENERATED_PATH}/com_trolltech_qt_core_builtin/com_trolltech_qt_core_builtin.pri)
include($${PYTHONQT_GENERATED_PATH}/com_trolltech_qt_gui_builtin/com_trolltech_qt_gui_builtin.pri)

include ( @PYTHONQT_SOURCE_DIR@/extensions/PythonQt_QtAll/PythonQt_QtAll.pri )

# We want PythonQt's headers installed
include.path = @PYTHONQT_INSTALL_DIR@/include/PythonQt
include.files = $$INCLUDES
INSTALLS += include
